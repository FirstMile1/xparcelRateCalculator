{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "declare const confetti: any;\n\ninterface ShipmentDimensions {\n  length: number;\n  width: number;\n  height: number;\n  weight: number;\n}\n\ninterface CalculationResult {\n  baseRate: number;\n  dimWeight: number;\n  billableWeight: number;\n  finalRate: number;\n  rateDetails: string[];\n}\n\ntype WeightUnit = 'oz' | 'lb';\ntype ServiceLevel = 'ground' | 'expedited' | 'expressPlus';\ntype Zone = '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8';\n\nclass XparcelCalculator {\n  private readonly groundRates = {\n    pounds: {\n      '1': [\n        5.04, 5.38, 6.05, 6.53, 6.82, 7.12, 7.43, 7.67, 7.93, 8.27, 9.83, 10.33, 10.85, 11.3, 11.87,\n        12.94, 13.23, 13.57, 13.88, 14.5, 15.11, 15.76, 16.26, 17.17, 17.77,\n      ],\n      '2': [\n        5.12, 5.45, 6.21, 6.55, 6.86, 7.15, 7.48, 7.69, 7.97, 8.3, 9.86, 10.36, 10.85, 11.31, 11.88,\n        13.09, 13.4, 13.75, 14.09, 14.9, 15.11, 15.76, 16.64, 17.57, 17.78,\n      ],\n      '3': [\n        5.35, 5.51, 6.77, 7.25, 7.64, 8.1, 8.53, 8.85, 9.16, 9.56, 11.64, 12.16, 12.68, 13.15,\n        13.56, 13.9, 14.26, 14.64, 15.01, 15.95, 17.75, 19.41, 20.41, 20.47, 21.05,\n      ],\n      '4': [\n        5.46, 6.07, 7.04, 7.6, 8.15, 8.72, 9.27, 9.65, 10.12, 10.68, 12.68, 13.28, 13.86, 14.39,\n        14.86, 15.28, 15.7, 16.13, 16.55, 17.12, 18.72, 20.66, 23.47, 23.82, 24.75,\n      ],\n      '5': [\n        5.66, 6.66, 7.84, 8.53, 9.34, 10.0, 10.72, 11.15, 11.78, 12.44, 14.21, 14.86, 15.52, 16.17,\n        16.83, 17.46, 17.92, 18.44, 18.95, 20.01, 22.38, 25.25, 29.19, 30.5, 31.62,\n      ],\n      '6': [\n        5.92, 7.34, 8.65, 9.66, 10.41, 11.18, 11.99, 12.52, 13.27, 14.03, 15.97, 16.73, 17.51,\n        18.31, 19.11, 19.88, 20.4, 21.02, 21.62, 23.32, 27.09, 31.42, 33.52, 34.82, 36.11,\n      ],\n      '7': [\n        6.08, 7.48, 9.18, 10.29, 11.34, 12.14, 13.31, 14.02, 14.92, 15.85, 18.18, 19.1, 20.01,\n        20.95, 21.87, 22.76, 23.41, 24.15, 24.87, 27.46, 32.51, 37.34, 37.35, 38.83, 40.55,\n      ],\n      '8': [\n        6.25, 7.89, 9.65, 10.94, 12.29, 13.53, 14.7, 15.61, 16.73, 17.86, 20.91, 22.06, 23.22,\n        24.38, 25.52, 26.63, 27.47, 28.41, 29.32, 31.72, 36.83, 39.8, 41.9, 44.05, 45.52,\n      ],\n    },\n    ounces: {\n      '1': Array(15).fill(3.2),\n      '2': Array(15).fill(3.22),\n      '3': Array(15).fill(3.25),\n      '4': Array(15).fill(3.33),\n      '5': Array(15).fill(3.38),\n      '6': Array(15).fill(3.46),\n      '7': Array(15).fill(3.48),\n      '8': Array(15).fill(3.53),\n    },\n  };\n\n  private calculateDimWeight(dimensions: ShipmentDimensions): number {\n    const { length, width, height } = dimensions;\n    const dimWeight = (length * width * height) / 166;\n    console.log(`Dimensional weight calculated: ${dimWeight}`);\n    return dimWeight;\n  }\n\n  public calculateRate(\n    dimensions: ShipmentDimensions,\n    weightUnit: WeightUnit,\n    serviceLevel: ServiceLevel,\n    zone: Zone\n  ): CalculationResult {\n    console.log('Starting calculation with inputs:', dimensions, weightUnit, serviceLevel, zone);\n\n    const dimWeight = this.calculateDimWeight(dimensions);\n    let billableWeight = dimensions.weight;\n    let finalRate = 0;\n    const rateDetails: string[] = [];\n\n    if (weightUnit === 'oz') {\n      if (dimensions.weight >= 16) {\n        billableWeight = Math.ceil(dimensions.weight / 16);\n        const poundIndex = Math.min(billableWeight - 1, 24);\n        finalRate = this.groundRates.pounds[zone][poundIndex];\n        rateDetails.push(`Weight converted to ${billableWeight} lb(s)`);\n      } else {\n        const ounceIndex = Math.min(Math.floor(dimensions.weight) - 1, 14);\n        finalRate = this.groundRates.ounces[zone][ounceIndex];\n        rateDetails.push(`Using ${dimensions.weight} oz rate`);\n      }\n    } else {\n      const dimWeightLbs = Math.ceil(dimWeight);\n      billableWeight = Math.max(Math.ceil(dimensions.weight), dimWeightLbs);\n      const poundIndex = Math.min(billableWeight - 1, 24);\n      finalRate = this.groundRates.pounds[zone][poundIndex];\n\n      if (dimWeightLbs > dimensions.weight) {\n        rateDetails.push(`Dimensional weight applied: ${dimWeightLbs} lbs`);\n      }\n      rateDetails.push(`Using ${billableWeight} lb rate`);\n    }\n\n    console.log('Service Level received for calculation:', serviceLevel);\n\n    if (serviceLevel === 'expedited') {\n      finalRate += 0.05;\n      rateDetails.push('Expedited service: +$0.05');\n      console.log('Added expedited fee: +$0.05');\n    } else if (serviceLevel === 'expressPlus') {\n      finalRate += 0.11;\n      rateDetails.push('Express Plus service: +$0.11');\n      console.log('Added expressPlus fee: +$0.11');\n    }\n\n    rateDetails.push(`Service Level: ${serviceLevel.toUpperCase()}`);\n    rateDetails.push(`Zone: ${zone}`);\n\n    console.log('Final calculation:', { dimWeight, billableWeight, finalRate, rateDetails });\n\n    return {\n      baseRate: finalRate,\n      dimWeight,\n      billableWeight,\n      finalRate,\n      rateDetails,\n    };\n  }\n}\n\nwindow.Webflow ||= [];\nwindow.Webflow.push(() => {\n  console.log('Initializing shipping calculator...');\n\n  const form = document.querySelector<HTMLFormElement>('[fs-element=\"form\"]');\n  const rateDisplay = document.querySelector<HTMLElement>('#text-rate');\n\n  if (!form || !rateDisplay) {\n    console.error('Form or display element not found.');\n    return;\n  }\n\n  const calculator = new XparcelCalculator();\n\n  form.addEventListener('submit', (e: Event) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    console.log('Form submitted. Retrieving inputs...');\n\n    const length = Number(document.querySelector<HTMLInputElement>('#Length-rate')?.value || 0);\n    const width = Number(document.querySelector<HTMLInputElement>('#Width-rate')?.value || 0);\n    const height = Number(document.querySelector<HTMLInputElement>('#Height-rate')?.value || 0);\n    const weight = Number(document.querySelector<HTMLInputElement>('#Weight-rate')?.value || 0);\n\n    const zoneElement = document.querySelector<HTMLSelectElement>('#Zone');\n    const serviceLevelElement = document.querySelector<HTMLSelectElement>('#Service-Level');\n\n    if (!zoneElement || !serviceLevelElement) {\n      console.error('Zone or Service Level dropdown not found.');\n      rateDisplay.textContent = 'Error: Missing required fields.';\n      return;\n    }\n\n    const zone = zoneElement.value.replace('Zone ', '') as Zone;\n    const serviceLevel = serviceLevelElement.value as ServiceLevel;\n\n    const isOz = document.querySelector<HTMLInputElement>('#oz')?.checked || false;\n    const isLb = document.querySelector<HTMLInputElement>('#lbs-checkbox')?.checked || false;\n\n    const weightUnit: WeightUnit = isLb ? 'lb' : 'oz';\n\n    console.log({ length, width, height, weight, zone, serviceLevel, weightUnit });\n\n    if (!length || !width || !height || !weight) {\n      console.error('Missing required fields.');\n      rateDisplay.textContent = 'Error: Missing required fields.';\n      return;\n    }\n\n    const dimensions: ShipmentDimensions = { length, width, height, weight };\n    const result = calculator.calculateRate(dimensions, weightUnit, serviceLevel, zone);\n\n    rateDisplay.textContent = `$${result.finalRate.toFixed(2)}`;\n    console.log('Calculation result:', result);\n\n    const textRateSmall = document.querySelector<HTMLElement>('#text-rate-small');\n    if (textRateSmall) textRateSmall.textContent = `$${result.finalRate.toFixed(2)}`;\n\n    confetti({\n      particleCount: 150,\n      spread: 150,\n      origin: { x: 0.5, y: 0.5 },\n    });\n  });\n});\n"],
  "mappings": "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",
  "names": []
}
