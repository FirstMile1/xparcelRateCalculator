"use strict";(()=>{var y=Object.defineProperty;var v=(a,e,o)=>e in a?y(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o;var f=(a,e,o)=>v(a,typeof e!="symbol"?e+"":e,o);var d=class{constructor(){f(this,"groundRates",{pounds:{1:[5.04,5.38,6.05,6.53,6.82,7.12,7.43,7.67,7.93,8.27,9.83,10.33,10.85,11.3,11.87,12.94,13.23,13.57,13.88,14.5,15.11,15.76,16.26,17.17,17.77],2:[5.12,5.45,6.21,6.55,6.86,7.15,7.48,7.69,7.97,8.3,9.86,10.36,10.85,11.31,11.88,13.09,13.4,13.75,14.09,14.9,15.11,15.76,16.64,17.57,17.78],3:[5.35,5.51,6.77,7.25,7.64,8.1,8.53,8.85,9.16,9.56,11.64,12.16,12.68,13.15,13.56,13.9,14.26,14.64,15.01,15.95,17.75,19.41,20.41,20.47,21.05],4:[5.46,6.07,7.04,7.6,8.15,8.72,9.27,9.65,10.12,10.68,12.68,13.28,13.86,14.39,14.86,15.28,15.7,16.13,16.55,17.12,18.72,20.66,23.47,23.82,24.75],5:[5.66,6.66,7.84,8.53,9.34,10,10.72,11.15,11.78,12.44,14.21,14.86,15.52,16.17,16.83,17.46,17.92,18.44,18.95,20.01,22.38,25.25,29.19,30.5,31.62],6:[5.92,7.34,8.65,9.66,10.41,11.18,11.99,12.52,13.27,14.03,15.97,16.73,17.51,18.31,19.11,19.88,20.4,21.02,21.62,23.32,27.09,31.42,33.52,34.82,36.11],7:[6.08,7.48,9.18,10.29,11.34,12.14,13.31,14.02,14.92,15.85,18.18,19.1,20.01,20.95,21.87,22.76,23.41,24.15,24.87,27.46,32.51,37.34,37.35,38.83,40.55],8:[6.25,7.89,9.65,10.94,12.29,13.53,14.7,15.61,16.73,17.86,20.91,22.06,23.22,24.38,25.52,26.63,27.47,28.41,29.32,31.72,36.83,39.8,41.9,44.05,45.52]},ounces:{1:Array(15).fill(3.2),2:Array(15).fill(3.22),3:Array(15).fill(3.25),4:Array(15).fill(3.33),5:Array(15).fill(3.38),6:Array(15).fill(3.46),7:Array(15).fill(3.48),8:Array(15).fill(3.53)}})}calculateDimWeight(e){let{length:o,width:r,height:i}=e,s=o*r*i/166;return console.log(`Dimensional weight calculated: ${s}`),s}calculateRate(e,o,r,i){console.log("Starting calculation with inputs:",e,o,r,i);let s=this.calculateDimWeight(e),n=e.weight,l=0,t=[];if(o==="oz")if(e.weight>=16){n=Math.ceil(e.weight/16);let c=Math.min(n-1,24);l=this.groundRates.pounds[i][c],t.push(`Weight converted to ${n} lb(s)`)}else{let c=Math.min(Math.floor(e.weight)-1,14);l=this.groundRates.ounces[i][c],t.push(`Using ${e.weight} oz rate`)}else{let c=Math.ceil(s);n=Math.max(Math.ceil(e.weight),c);let u=Math.min(n-1,24);l=this.groundRates.pounds[i][u],c>e.weight&&t.push(`Dimensional weight applied: ${c} lbs`),t.push(`Using ${n} lb rate`)}return console.log("Service Level received for calculation:",r),r==="expedited"?(l+=.05,t.push("Expedited service: +$0.05"),console.log("Added expedited fee: +$0.05")):r==="expressPlus"&&(l+=.11,t.push("Express Plus service: +$0.11"),console.log("Added expressPlus fee: +$0.11")),t.push(`Service Level: ${r.toUpperCase()}`),t.push(`Zone: ${i}`),console.log("Final calculation:",{dimWeight:s,billableWeight:n,finalRate:l,rateDetails:t}),{baseRate:l,dimWeight:s,billableWeight:n,finalRate:l,rateDetails:t}}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{console.log("Initializing shipping calculator...");let a=document.querySelector('[fs-element="form"]'),e=document.querySelector("#text-rate");if(!a||!e){console.error("Form or display element not found.");return}let o=new d;a.addEventListener("submit",r=>{r.preventDefault(),r.stopPropagation(),console.log("Form submitted. Retrieving inputs...");let i=Number(document.querySelector("#Length-rate")?.value||0),s=Number(document.querySelector("#Width-rate")?.value||0),n=Number(document.querySelector("#Height-rate")?.value||0),l=Number(document.querySelector("#Weight-rate")?.value||0),t=document.querySelector("#Zone"),c=document.querySelector("#Service-Level");if(!t||!c){console.error("Zone or Service Level dropdown not found."),e.textContent="Error: Missing required fields.";return}let u=t.value.replace("Zone ",""),m=c.value,S=document.querySelector("#oz")?.checked||!1,g=document.querySelector("#lbs-checkbox")?.checked||!1?"lb":"oz";if(console.log({length:i,width:s,height:n,weight:l,zone:u,serviceLevel:m,weightUnit:g}),!i||!s||!n||!l){console.error("Missing required fields."),e.textContent="Error: Missing required fields.";return}let b={length:i,width:s,height:n,weight:l},h=o.calculateRate(b,g,m,u);e.textContent=`$${h.finalRate.toFixed(2)}`,console.log("Calculation result:",h);let p=document.querySelector("#text-rate-small");p&&(p.textContent=`$${h.finalRate.toFixed(2)}`),confetti({particleCount:150,spread:150,origin:{x:.5,y:.5}})})});})();
